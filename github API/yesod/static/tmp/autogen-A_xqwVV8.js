var width=450;height=450;margin=40;var radius=Math.min(width,height)/2-margin,svg=d3.select("#my_dataviz").append("svg").attr("width",width).attr("height",height).append("g").attr("transform","translate("+width/2+","+height/2+")");d3.json("/static/json/users.json",function(error,data){var color=d3.scaleOrdinal().domain(data).range(d3.schemeSet2),pie=d3.pie().value(function(d){return d.value.created_at}),data_ready=pie(d3.entries(data)),arcGenerator=d3.arc().innerRadius(0).outerRadius(radius);svg.selectAll('mySlices').data(data_ready).enter().append('path').attr('d',arcGenerator).attr('fill',function(d){return(color(d.data.value.name))}).attr("stroke","black").style("stroke-width","2px").style("opacity",0.7);svg.selectAll('mySlices').data(data_ready).enter().append('text').text(function(d){return d.data.value.name+":"+d.data.value.created_at}).attr("transform",function(d){return"translate("+arcGenerator.centroid(d)+")"}).style("text-anchor","middle").style("font-size",17)})